(this.webpackJsonpomok=this.webpackJsonpomok||[]).push([[0],{120:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(46),i=a.n(r),o=a(13),c=(a(55),a(3)),u=a(2),l=a(15),d=a(30),b=(a(56),a(120),a(1)),_={none:"img/stone-none.png",black:"img/stone-black.png"};function h(e){var t=e.board,a=e.place,n=void 0===a?function(e,t,a){alert(t+" / "+a)}:a;return null!=t&&typeof t.board==typeof Function?Object(b.jsx)("div",{className:"board",children:t.board().map((function(e,t){return Object(b.jsxs)("div",{className:"line",children:[e.map((function(a,s){return Object(b.jsx)("img",{onClick:function(e){return n(e,s,t)},alt:"cell",src:_[a],width:"3%"},t*e.length+s)})),Object(b.jsx)("br",{})]},t)}))}):Object(b.jsx)("div",{children:"loading..."})}var m=function(){var e=Object(c.e)(),t=Object(n.useState)(JSON.parse(sessionStorage.getItem("game"))),a=Object(l.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)({}),o=Object(l.a)(i,2);o[0],o[1];if(Object(n.useEffect)((function(){return document.querySelector("title").innerHTML="Omok",null!=s?"start"===s.state&&(r(Object(u.a)(Object(u.a)({},s),{},{state:"progress",status:new d.a(s.boardWidth,s.boardHeight)})),console.log(s)):(alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc811\uadfc\uc73c\ub85c \uc778\ud574 \uccab \ud654\uba74\uc73c\ub85c \uc774\ub3d9\ub429\ub2c8\ub2e4."),e.push("/")),function(){null!=s&&sessionStorage.setItem("game",JSON.stringify(s))}}),[s,r,e]),null!=s)if(null==s.status)r(Object(u.a)(Object(u.a)({},s),{},{status:new d.a(s.boardWidth,s.boardHeight)}));else if(typeof s.status!=typeof d.a&&!s.status.hasOwnProperty("board")){var _=d.a.loadData(s.status);r(Object(u.a)(Object(u.a)({},s),{},{status:_}))}var m=function(e,t,a){"none"===s.status.getColor(t,a)&&(r(Object(u.a)(Object(u.a)({},s),{},{run:s.status.place(t,a,"black")})),r(Object(u.a)(Object(u.a)({},s),{},{run:null})))};return Object(b.jsx)("div",{className:"gameboard",children:null!=s?Object(b.jsx)(h,{board:s.status,place:m}):null})},p=(a(126),function(){var e=Object(c.e)(),t=Object(n.useState)({joinMode:"create",startText:"\ubc29 \ub9cc\ub4e4\uae30",disableSizeInput:!1,disablePassword:!0}),a=Object(l.a)(t,2),r=a[0],i=a[1],o=s.a.createRef(),d=s.a.createRef(),_=s.a.createRef(),h=s.a.createRef(),m=s.a.createRef(),p=s.a.createRef();Object(n.useEffect)((function(){return document.querySelector("title").innerHTML="Omok",function(){}}),[]);var j=function(e){switch(i(Object(u.a)(Object(u.a)({},r),{},{joinMode:e.target.id})),e.target.id){case"create":return void i(Object(u.a)(Object(u.a)({},r),{},{disableSizeInput:!1,startText:"\ubc29 \ub9cc\ub4e4\uae30"}));case"join":return void i(Object(u.a)(Object(u.a)({},r),{},{disableSizeInput:!0,startText:"\uac8c\uc784 \ucc38\uc5ec"}));case"spectate":return void i(Object(u.a)(Object(u.a)({},r),{},{disableSizeInput:!0,startText:"\uad00\uc804\ud558\uae30"}));case"replay":return void i(Object(u.a)(Object(u.a)({},r),{},{disableSizeInput:!0,startText:"\uac8c\uc784 \ub2e4\uc2dc\ubcf4\uae30"}));default:return}};return Object(b.jsx)("div",{className:"joinform",children:Object(b.jsxs)("form",{className:"inputform",ref:o,onSubmit:function(t){var a={boardWidth:m.current.valueAsNumber,boardHeight:p.current.valueAsNumber,name:d.current.value,state:"start",password:""};r.disablePassword?delete a.password:a.password=_.current.value,sessionStorage.setItem("game",JSON.stringify(a)),e.push("/board")},children:[Object(b.jsx)("input",{className:"roomName full",name:"roomName",ref:d,type:"text",placeholder:"\ubc29 \uc774\ub984",required:!0,minLength:3}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"password",children:[Object(b.jsx)("input",{className:"passwordable",name:"passwordable",ref:h,onChange:function(){i(Object(u.a)(Object(u.a)({},r),{},{disablePassword:!h.current.checked}))},type:"checkbox"}),Object(b.jsx)("input",{className:"password",name:"password",ref:_,disabled:r.disablePassword,type:"password",placeholder:"\ubc29 \uc811\uc18d \uc554\ud638",required:!0,minLength:4})]}),Object(b.jsxs)("div",{className:"size",children:[Object(b.jsx)("input",{name:"boardWidth",ref:m,disabled:r.disableSizeInput,type:"number",placeholder:"\uac00\ub85c",required:!0,min:15,max:100}),Object(b.jsx)("input",{name:"boardHeight",ref:p,disabled:r.disableSizeInput,type:"number",placeholder:"\uc138\ub85c",required:!0,min:15,max:100})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"joinMode",children:[Object(b.jsx)("input",{name:"joinMode",id:"create",onChange:j,type:"radio",value:"create",defaultChecked:!0}),"\ubc29 \ub9cc\ub4e4\uae30 \xa0",Object(b.jsx)("input",{name:"joinMode",id:"join",onChange:j,type:"radio",value:"join"}),"\ucc38\uc5ec \xa0",Object(b.jsx)("input",{name:"joinMode",id:"spectate",onChange:j,type:"radio",value:"spectate"}),"\uad00\uc804 \xa0",Object(b.jsx)("input",{name:"joinMode",id:"replay",onChange:j,type:"radio",value:"replay"}),"\ub9ac\ud50c\ub808\uc774"]}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"start",type:"submit",value:r.startText})]})})});var j=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(c.a,{exact:!0,path:"/Omok/",component:p}),Object(b.jsx)(c.a,{path:"/Omok/board",component:m})]})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,128)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{basename:"/Omok",children:Object(b.jsx)(j,{})})}),document.getElementById("root")),O()},30:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(47),D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),Omok=function(){function Omok(){var _this=this,width=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,height=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,winCount=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;Object(D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Omok),this.map=[],this.width=void 0,this.height=void 0,this.winCount=void 0,this.winEvents=[],this.board=function(){for(var e=[],t=0;t<_this.height;t++){for(var a=[],n=0;n<_this.width;n++)a.push(_this.map[n+t*_this.width]);e.push(a)}return e},this.getColor=function(e,t){return e+t*_this.width<_this.map.length?_this.map[e+t*_this.width]:"none"},this.place=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";null!=e&&null!=t&&null!=a&&(_this.map[e+t*_this.width]=a,_this.winCheck(e,t,a))},this.winCheck=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";e=0,t=0;for(var n=[1,1,1,1],s=!1,r=[[-1,1],[0,1],[1,1],[1,0]],i=0;i<r.length;i++)for(var o=-1;o<2;o+=2)for(var c=[e,t],u=r[i][0]*o,l=r[i][1]*o;_this.getColor(c[0]+u,c[1]+u)===a;)n[i]++,c[0]+=u,c[1]+=l;return n.forEach((function(e){e>=_this.winCount&&(s=!0)})),s&&_this.win(),s},this.win=function(){_this.winEvents.forEach((function(handler){eval(handler)}))},this.map.length=width*height,this.width=width,this.height=height,this.winCount=winCount;for(var i=0;i<this.map.length;i++)this.map[i]="none"}return Object(D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Omok,null,[{key:"loadData",value:function(e){var t=new Omok;return t.map=e.map,t.width=e.width,t.height=e.height,t.winCount=e.winCount,t.winEvents=e.winEvents,t}}]),Omok}();__webpack_exports__.a=Omok},55:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.dd1a9e21.chunk.js.map