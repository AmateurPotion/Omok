(this.webpackJsonpomok=this.webpackJsonpomok||[]).push([[0],{161:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(80),i=a.n(r),o=(a(97),a(43)),c=a(9),l=a(7),u=a(10),d=a(186),b=a(188),j=a(88),h=a.n(j),_=a(64),p=(a(98),a(161),a(1)),m=function(){var e=Object(c.e)(),t=Object(n.useState)(JSON.parse(sessionStorage.getItem("game"))),a=Object(u.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)({}),o=Object(u.a)(i,2);o[0],o[1];Object(n.useEffect)((function(){if(document.querySelector("title").innerHTML="Omok",null!=s){if("start"===s.state){var t=Object(l.a)(Object(l.a)({},s),{},{state:"progress",gameCondition:"\uac8c\uc784 \uc2dc\uc791 \ub300\uae30\uc911",gridView:!0,color:"create"===s.joinMode?"black":"join"===s.joinMode?"white":" transparent",status:new _.a(s.boardWidth,s.boardHeight)});t.status.winEvents.push('console.log("win!")'),r(t),null==localStorage.getItem("cellSize")&&localStorage.setItem("cellSize","32px")}}else alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc811\uadfc\uc73c\ub85c \uc778\ud574 \uccab \ud654\uba74\uc73c\ub85c \uc774\ub3d9\ub429\ub2c8\ub2e4."),e.push("/");return function(){null!=s&&sessionStorage.setItem("game",JSON.stringify(s))}}),[s,r,e]),null!=s&&s.hasOwnProperty("status")&&(s.status.hasOwnProperty("place")||r(Object(l.a)(Object(l.a)({},s),{},{status:_.a.loadData(s.status)})));var j=function(e,t,a){"transparent"===s.status.getColor(t,a)&&(r(Object(l.a)(Object(l.a)({},s),{},{run:s.status.place(t,a,s.color)})),r(Object(l.a)(Object(l.a)({},s),{},{run:null})))};function m(e){var t=e.board,a=e.place,n=void 0===a?function(e,t,a){alert(t+" / "+a)}:a,r=null!=localStorage.getItem("cellSize")?localStorage.getItem("cellSize"):"32px",i=parseInt(r);return null!=t&&typeof t.board==typeof Function?Object(p.jsx)("div",{className:"board",children:t.board().map((function(e,a){return Object(p.jsxs)("div",{className:"line",children:[e.map((function(o,c){return Object(p.jsxs)("svg",{alt:"cell",width:r,height:r,children:[Object(p.jsx)("rect",{width:r,height:r,fill:"sandybrown"}),s.gridView?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("line",{x1:i/2,y1:0,x2:i/2,y2:i,stroke:"black",strokeWidth:i/10}),Object(p.jsx)("line",{x1:0,y1:i/2,x2:i,y2:i/2,stroke:"black",strokeWidth:i/10})]}):"",Object(p.jsx)("circle",{onClick:function(e){n(e,c,a)},onMouseOver:function(e){"transparent"===t.getColor(c,a)&&(e.target.setAttribute("fill","gray"),e.target.setAttribute("opacity","0.8"))},onMouseOut:function(e){e.target.setAttribute("fill",o),e.target.setAttribute("opacity","1")},cx:i/2,cy:i/2,r:i/3,fill:o}),0===c||c===e.length-1?Object(p.jsx)("line",{x1:0===c?0:i,y1:0,x2:0===c?0:i,y2:i,stroke:"black",strokeWidth:i/10}):"",0===a||a===e.length-1?Object(p.jsx)("line",{x1:0,y1:0===a?0:i,x2:i,y2:0===a?0:i,stroke:"black",strokeWidth:i/10}):""]},a*e.length+c)})),Object(p.jsx)("br",{})]},a)}))}):Object(p.jsx)("div",{children:"loading..."})}function O(e){e.props;return Object(p.jsx)("div",{className:"speclist"})}function g(e){e.second,e.runner,e.pause;return Object(p.jsx)(p.Fragment,{children:"\uac1c\ubc1c \uc608\uc815"})}return null!==s?Object(p.jsxs)("div",{className:"gameboard",children:[null!=s?Object(p.jsx)(m,{board:s.status,place:j}):null,Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"information",children:[Object(p.jsx)("h2",{className:"title",children:" \uc0c1\ud0dc\ucc3d "}),"\uac8c\uc784 \uc9c4\ud589 \uc0c1\ud0dc : ",s.gameCondition," ",Object(p.jsx)("br",{}),"\ud0c0\uc774\uba38 : ",Object(p.jsx)(g,{})," ",Object(p.jsx)("br",{}),"\uadf8\ub9ac\ub4dc on/off ",Object(p.jsx)(d.a,{defaultChecked:!0,onChange:function(e){r(Object(l.a)(Object(l.a)({},s),{},{gridView:e.target.checked}))},children:" a"}),Object(p.jsx)(b.a,{onClick:function(e){return console.log(e.target.ownerDocument)},children:"\ud56d\ubcf5"}),Object(p.jsx)(O,{})," ",Object(p.jsx)("br",{})]}),Object(p.jsx)("div",{className:"circle fab",children:Object(p.jsx)(h.a,{})})]}):""},O=(a(169),function(){var e=Object(c.e)(),t=Object(n.useState)({joinMode:"create",startText:"\ubc29 \ub9cc\ub4e4\uae30",disableSizeInput:!1,disablePassword:!0}),a=Object(u.a)(t,2),r=a[0],i=a[1],o=s.a.createRef(),d=s.a.createRef(),b=s.a.createRef(),j=s.a.createRef(),h=s.a.createRef(),_=s.a.createRef();Object(n.useEffect)((function(){return document.querySelector("title").innerHTML="Omok",function(){}}),[]);var m=function(e){switch(i(Object(l.a)(Object(l.a)({},r),{},{joinMode:e.target.id})),e.target.id){case"create":return void i(Object(l.a)(Object(l.a)({},r),{},{disableSizeInput:!1,startText:"\ubc29 \ub9cc\ub4e4\uae30",joinMode:"create"}));case"join":return void i(Object(l.a)(Object(l.a)({},r),{},{disableSizeInput:!0,startText:"\uac8c\uc784 \ucc38\uc5ec",joinMode:"join"}));case"spectate":return void i(Object(l.a)(Object(l.a)({},r),{},{disableSizeInput:!0,startText:"\uad00\uc804\ud558\uae30",joinMode:"spectate"}));case"replay":return void i(Object(l.a)(Object(l.a)({},r),{},{disableSizeInput:!0,startText:"\uac8c\uc784 \ub2e4\uc2dc\ubcf4\uae30",joinMode:"replay"}));default:return}};return Object(p.jsx)("div",{className:"joinform",children:Object(p.jsxs)("form",{className:"inputform",ref:o,onSubmit:function(t){var a={boardWidth:h.current.valueAsNumber,boardHeight:_.current.valueAsNumber,name:d.current.value,state:"start",joinMode:r.joinMode,password:""};r.disablePassword?delete a.password:a.password=b.current.value,sessionStorage.setItem("game",JSON.stringify(a)),e.push("/board")},children:[Object(p.jsx)("input",{className:"roomName full",name:"roomName",ref:d,type:"text",placeholder:"\ubc29 \uc774\ub984",required:!0,minLength:3}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"password",children:[Object(p.jsx)("input",{className:"passwordable",name:"passwordable",ref:j,onChange:function(){i(Object(l.a)(Object(l.a)({},r),{},{disablePassword:!j.current.checked}))},type:"checkbox"}),Object(p.jsx)("input",{className:"password",name:"password",ref:b,disabled:r.disablePassword,type:"password",placeholder:"\ubc29 \uc811\uc18d \uc554\ud638",required:!0,minLength:4})]}),Object(p.jsxs)("div",{className:"size",children:[Object(p.jsx)("input",{name:"boardWidth",ref:h,disabled:r.disableSizeInput,type:"number",placeholder:"\uac00\ub85c",required:!0,min:15,max:100}),Object(p.jsx)("input",{name:"boardHeight",ref:_,disabled:r.disableSizeInput,type:"number",placeholder:"\uc138\ub85c",required:!0,min:15,max:100})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"joinMode",children:[Object(p.jsx)("input",{name:"joinMode",id:"create",onChange:m,type:"radio",value:"create",defaultChecked:!0}),"\ubc29 \ub9cc\ub4e4\uae30 \xa0",Object(p.jsx)("input",{name:"joinMode",id:"join",onChange:m,type:"radio",value:"join"}),"\ucc38\uc5ec \xa0",Object(p.jsx)("input",{name:"joinMode",id:"spectate",onChange:m,type:"radio",value:"spectate"}),"\uad00\uc804 \xa0",Object(p.jsx)("input",{name:"joinMode",id:"replay",onChange:m,type:"radio",value:"replay"}),"\ub9ac\ud50c\ub808\uc774"]}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:"start",type:"submit",value:r.startText})]})})});var g=function(){return Object(p.jsxs)(o.a,{basename:"/Omok",children:[Object(p.jsx)(c.a,{exact:!0,path:"/",component:O}),Object(p.jsx)(c.a,{path:"/board",component:m})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,189)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),f()},64:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83),D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(84),Omok=function(){function Omok(){var _this=this,width=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,height=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,winCount=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;Object(D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Omok),this.map=[],this.width=void 0,this.height=void 0,this.winCount=void 0,this.winEvents=[],this.board=function(){for(var e=[],t=0;t<_this.height;t++){for(var a=[],n=0;n<_this.width;n++)a.push(_this.map[n+t*_this.width]);e.push(a)}return e},this.getColor=function(e,t){return e+t*_this.width<_this.map.length?_this.map[e+t*_this.width]:"transparent"},this.place=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";null!=e&&null!=t&&null!=a&&(_this.map[e+t*_this.width]=a,_this.winCheck(e,t,a))},this.winCheck=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",n=[1,1,1,1],s=!1,r=[[-1,1],[0,1],[1,1],[1,0]],i=0;i<r.length;i++)for(var o=-1;o<2;o+=2)for(var c=e,l=t,u=r[i][0]*o,d=r[i][1]*o;_this.getColor(c+u,l+d)===a;)n[i]++,c+=u,l+=d;return n.forEach((function(e){e>=_this.winCount&&(s=!0)})),s&&_this.win(),s},this.win=function(){_this.winEvents.forEach((function(handler){eval(handler)}))},this.map.length=width*height,this.width=width,this.height=height,this.winCount=winCount;for(var i=0;i<this.map.length;i++)this.map[i]="transparent"}return Object(D_workspace_React_omok_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Omok,null,[{key:"loadData",value:function(e){var t=new Omok;return t.map=e.map,t.width=e.width,t.height=e.height,t.winCount=e.winCount,t.winEvents=e.winEvents,t}}]),Omok}();__webpack_exports__.a=Omok},97:function(e,t,a){}},[[171,1,2]]]);
//# sourceMappingURL=main.6df989ce.chunk.js.map